Implementation here differs a little (for the sake of bad code), so it won't work with one from implementation
Qt 5+ needed
